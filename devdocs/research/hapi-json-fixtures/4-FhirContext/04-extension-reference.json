{
  "resourceType": "Bundle",
  "id": "extension-reference",
  "type": "collection",
  "entry": [
    {
      "fullUrl": "http://example.org/fhir/StructureDefinition/BirthSex",
      "resource": {
        "resourceType": "StructureDefinition",
        "id": "birth-sex-ext",
        "url": "http://example.org/fhir/StructureDefinition/BirthSex",
        "name": "BirthSex",
        "status": "active",
        "kind": "complex-type",
        "abstract": false,
        "type": "Extension",
        "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Extension",
        "derivation": "constraint",
        "context": [{ "type": "element", "expression": "Patient" }],
        "differential": {
          "element": [
            { "id": "Extension.url", "path": "Extension.url", "fixedUri": "http://example.org/fhir/StructureDefinition/BirthSex" },
            { "id": "Extension.value[x]", "path": "Extension.value[x]", "min": 1, "type": [{ "code": "code" }] }
          ]
        }
      }
    },
    {
      "fullUrl": "http://example.org/fhir/StructureDefinition/PatientWithBirthSex",
      "resource": {
        "resourceType": "StructureDefinition",
        "id": "patient-with-birth-sex",
        "url": "http://example.org/fhir/StructureDefinition/PatientWithBirthSex",
        "name": "PatientWithBirthSex",
        "title": "Patient profile referencing BirthSex extension",
        "status": "active",
        "kind": "resource",
        "abstract": false,
        "type": "Patient",
        "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Patient",
        "derivation": "constraint",
        "differential": {
          "element": [
            {
              "id": "Patient.extension",
              "path": "Patient.extension",
              "slicing": { "discriminator": [{ "type": "value", "path": "url" }], "rules": "open" }
            },
            {
              "id": "Patient.extension:birthSex",
              "path": "Patient.extension",
              "sliceName": "birthSex",
              "min": 0,
              "max": "1",
              "type": [{ "code": "Extension", "profile": ["http://example.org/fhir/StructureDefinition/BirthSex"] }]
            }
          ]
        }
      }
    }
  ]
}
