{
  "description": "End-to-end: Operators on realistic resources",
  "resource": {
    "resourceType": "Observation",
    "id": "op-test",
    "status": "final",
    "code": {
      "coding": [
        { "system": "http://loinc.org", "code": "29463-7", "display": "Body Weight" }
      ]
    },
    "valueQuantity": { "value": 185, "unit": "lbs", "system": "http://unitsofmeasure.org", "code": "[lb_av]" },
    "effectiveDateTime": "2024-01-15",
    "subject": { "reference": "Patient/example" },
    "category": [
      { "coding": [{ "system": "http://terminology.hl7.org/CodeSystem/observation-category", "code": "vital-signs" }] }
    ]
  },
  "tests": [
    { "expression": "Observation.valueQuantity.value > 100", "expected": [true] },
    { "expression": "Observation.valueQuantity.value < 200", "expected": [true] },
    { "expression": "Observation.valueQuantity.value >= 185", "expected": [true] },
    { "expression": "Observation.valueQuantity.value <= 185", "expected": [true] },
    { "expression": "Observation.valueQuantity.value = 185", "expected": [true] },
    { "expression": "Observation.valueQuantity.value != 100", "expected": [true] },
    { "expression": "Observation.status = 'final'", "expected": [true] },
    { "expression": "Observation.status != 'preliminary'", "expected": [true] },
    { "expression": "Observation.status = 'final' and Observation.valueQuantity.value > 100", "expected": [true] },
    { "expression": "Observation.status = 'final' or Observation.status = 'amended'", "expected": [true] },
    { "expression": "Observation.status = 'preliminary' or Observation.status = 'cancelled'", "expected": [false] },
    { "expression": "Observation.valueQuantity.value + 15 = 200", "expected": [true] },
    { "expression": "Observation.valueQuantity.value - 85 = 100", "expected": [true] },
    { "expression": "Observation.valueQuantity.value * 2 = 370", "expected": [true] },
    { "expression": "Observation is Observation", "expected": [true] },
    { "expression": "Observation is Patient", "expected": [false] }
  ]
}
