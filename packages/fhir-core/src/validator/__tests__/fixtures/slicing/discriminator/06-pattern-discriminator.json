{
  "description": "Pattern discriminator — match by partial pattern match",
  "slicingRoot": {
    "path": "Observation.category",
    "id": "Observation.category",
    "min": 1, "max": "unbounded",
    "types": [{ "code": "CodeableConcept" }],
    "constraints": [], "mustSupport": false, "isModifier": false, "isSummary": false,
    "slicing": {
      "discriminators": [{ "type": "pattern", "path": "$this" }],
      "rules": "open",
      "ordered": false
    }
  },
  "slices": [
    {
      "path": "Observation.category",
      "id": "Observation.category:VSCat",
      "min": 1, "max": 1,
      "types": [{ "code": "CodeableConcept" }],
      "constraints": [], "mustSupport": false, "isModifier": false, "isSummary": false,
      "sliceName": "VSCat",
      "pattern": {
        "coding": [{ "system": "http://terminology.hl7.org/CodeSystem/observation-category", "code": "vital-signs" }]
      }
    }
  ],
  "scenarios": [
    {
      "label": "value matches pattern (has extra fields) → valid",
      "values": [
        { "coding": [{ "system": "http://terminology.hl7.org/CodeSystem/observation-category", "code": "vital-signs", "display": "Vital Signs" }], "text": "Vital Signs" }
      ],
      "expectedIssueCount": 0
    },
    {
      "label": "value does not match pattern → VSCat min=1 violation",
      "values": [
        { "coding": [{ "system": "http://terminology.hl7.org/CodeSystem/observation-category", "code": "laboratory" }] }
      ],
      "expectedIssueCount": 1,
      "expectedIssueCodes": ["CARDINALITY_MIN_VIOLATION"]
    }
  ]
}
