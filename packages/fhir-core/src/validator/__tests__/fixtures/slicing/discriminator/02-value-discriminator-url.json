{
  "description": "Value discriminator on extension url — common extension slicing pattern",
  "slicingRoot": {
    "path": "Patient.extension",
    "id": "Patient.extension",
    "min": 0, "max": "unbounded",
    "types": [{ "code": "Extension" }],
    "constraints": [], "mustSupport": false, "isModifier": false, "isSummary": false,
    "slicing": {
      "discriminators": [{ "type": "value", "path": "url" }],
      "rules": "open",
      "ordered": false
    }
  },
  "slices": [
    {
      "path": "Patient.extension",
      "id": "Patient.extension:race",
      "min": 0, "max": 1,
      "types": [{ "code": "Extension" }],
      "constraints": [], "mustSupport": false, "isModifier": false, "isSummary": false,
      "sliceName": "race",
      "fixed": { "url": "http://hl7.org/fhir/us/core/StructureDefinition/us-core-race" }
    },
    {
      "path": "Patient.extension",
      "id": "Patient.extension:ethnicity",
      "min": 0, "max": 1,
      "types": [{ "code": "Extension" }],
      "constraints": [], "mustSupport": false, "isModifier": false, "isSummary": false,
      "sliceName": "ethnicity",
      "fixed": { "url": "http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity" }
    }
  ],
  "scenarios": [
    {
      "label": "race extension present → valid",
      "values": [
        { "url": "http://hl7.org/fhir/us/core/StructureDefinition/us-core-race", "valueCodeableConcept": { "text": "White" } }
      ],
      "expectedIssueCount": 0
    },
    {
      "label": "unknown extension in open slicing → valid (no errors)",
      "values": [
        { "url": "http://example.org/custom-ext", "valueString": "custom" }
      ],
      "expectedIssueCount": 0
    }
  ]
}
